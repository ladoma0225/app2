<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
        }

        .fullscreen-container {
            position: relative;
            height: 100%;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .background-image {
            background-image: url('02.gif');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center center;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .background-image2 {
            background-image: url('01.gif');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center center;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2;
        }

        .vertical-text {
            writing-mode: vertical-rl;
            text-orientation: mixed;
            transform: rotate(0deg);
        }

        .custom-btn {
            background-color: #ffffffab;
            border: 2px solid #ffffff;
            color: #000;
            padding: 10px 20px;
            font-size: 16px;
            text-transform: uppercase;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1001;
        }

        .custom-btn:hover {
            background-color: #eee;
            border-color: #000000;
        }

        .modal {
            z-index: 1050;
        }

        .modal-backdrop {
            z-index: 1000;
            background-color: rgba(0, 0, 0, 0);
            transition: background-color 0.3s;
        }

        .modal-content {
            z-index: 1051;
            position: relative;
            text-align: center;
        }

        .modal-header,
        .modal-body,
        .modal-footer {
            text-align: center;
        }

        .modal-header {
            display: flex;
            justify-content: center;
        }

        .modal-footer {
            display: flex;
            justify-content: center;
        }
        .navbar-bottom {
            bottom: 0;
            background-color: #343a4000;
            color: white;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
        }
        .navbar-fixed {
            width: 10%;
            position: fixed;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1110;
        }
        .alert-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
}

.alert {
    position: relative;
   
    background-color: #0000003f;
    border: 3px solid #ffffff;
    color: #ffffff;
    border-radius: 0.25rem;
    margin-bottom: 1rem;
}
.alert .close {
    position: absolute;
    top: 0;
    right: 0;
    padding: 1rem;
    color: rgb(255, 255, 255);
    cursor: pointer;
}
    </style>
</head>

<body>
    <audio id="backgroundMusic" loop>
        <source src="268511__xtrgamr__beautiful-or-ominous-music-box.wav" type="audio/mpeg">
       
    </audio>
      <!-- 底部导航栏 -->
      <nav class="navbar navbar-fixed navbar-bottom ">
        <div class="container-fluid">
            <a class="navbar-brand" id="bottom-navbar-link" href="murmur.htm">
                <img src="dwon.png" alt="" width="150" height="50" class="d-inline-block ">
            </a>
        </div>
    </nav>
    <div class="fullscreen-container">
        <div id="bg1" class="background-image"></div>
        <div id="bg2" class="background-image2"></div>
        <div class="overlay">
            <button type="button" class="btn btn-dark custom-btn vertical-text" data-bs-toggle="modal"
                data-bs-target="#exampleModal1">
                人生模擬器連線中
            </button>
        </div>
    </div>

    <!-- Modal 1 -->
    <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel1">訊號減弱 即將斷線</h5>
                </div>
                <div class="modal-body">
                   <b> 00:05</b>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark" data-bs-dismiss="modal" data-bs-toggle="modal"
                        data-bs-target="#exampleModal2">什麼?</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal 2 -->
    <div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel2" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel2">訊號減弱 即將斷線</h5>
                </div>
                <div class="modal-body">
                     <b> 00:04</b>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark" data-bs-dismiss="modal" data-bs-toggle="modal"
                        data-bs-target="#exampleModal3">等...</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal 3 -->
    <div class="modal fade" id="exampleModal3" tabindex="-1" aria-labelledby="exampleModalLabel3" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel3">訊號減弱 即將斷線</h5>
                </div>
                <div class="modal-body">
                     <b> 00:03</b>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark" data-bs-dismiss="modal" data-bs-toggle="modal"
                        data-bs-target="#exampleModal4">太快了!!</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal 4 -->
    <div class="modal fade" id="exampleModal4" tabindex="-1" aria-labelledby="exampleModalLabel4" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel4">訊號減弱 即將斷線</h5>
                </div>
                <div class="modal-body">
                     <b> 00:02</b>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-dark" data-bs-dismiss="modal" data-bs-toggle="modal"
                        data-bs-target="#exampleModal5">等一下!</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal 5 -->
    <div class="modal fade" id="exampleModal5" tabindex="-1" aria-labelledby="exampleModalLabel5" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel5">訊號減弱 即將斷線</h5>
                </div>
                <div class="modal-body">
                     <b> 00:01</b>
                </div>
                <div class="modal-footer">
                    <a href="murmur.htm" class="btn" >...</a>
                </div>
            </div>
        </div>
    </div>
    <div id="alert-container" class="alert-container"></div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script>
        let backdropOpacity = 0;
        let modalTransitionTimeout = null;
    
        // 更新背景透明度
        const updateBackdrop = () => {
            const backdrop = document.querySelector('.modal-backdrop');
            if (backdrop) {
                backdrop.style.backgroundColor = `rgba(0, 0, 0, ${backdropOpacity})`;
            }
        };
    
        // 增加背景透明度
        const increaseBackdropOpacity = () => {
            backdropOpacity += 0.2;
            updateBackdrop();
        };
    
        // 重置背景透明度，仅在 bg1 显示时重置
        const resetBackdropOpacity = () => {
          
            modalTransitionTimeout = setTimeout(() => {
                if (bg1.style.display === 'block') {
                    resetBackdropOpacity()
                    updateBackdrop();
                }
            }, 0); // 使用相同的延时
        };
    
        // 动态检查模态框状态并切换背景图像显示
        const checkModalState = () => {
            const isModalOpen = document.querySelectorAll('.modal.show').length > 0;
            if (isModalOpen) {
                bg1.style.display = 'block';
                bg2.style.display = 'none';
                resetBackdropOpacity(); // 检查模态框状态时重置背景透明度
            } else {
                bg1.style.display = 'none';
                bg2.style.display = 'block';
            }
        };
    
        const modals = document.querySelectorAll('.modal');
        const bg1 = document.getElementById('bg1');
        const bg2 = document.getElementById('bg2');
    
        modals.forEach(modal => {
            modal.addEventListener('show.bs.modal', () => {
                if (modalTransitionTimeout) {
                    clearTimeout(modalTransitionTimeout);
                }
                increaseBackdropOpacity();
                modalTransitionTimeout = setTimeout(() => {
                    checkModalState();
                    updateBackdrop();
                }, 700);
            });
    
            modal.addEventListener('hidden.bs.modal', () => {
                if (modalTransitionTimeout) {
                    clearTimeout(modalTransitionTimeout);
                }
                modalTransitionTimeout = setTimeout(() => {
                    checkModalState();
                    updateBackdrop();
                }, 50);
    
                // 延迟移除遮罩层，确保页面恢复正常交互
                setTimeout(() => {
                    document.body.classList.remove('modal-open');
                    const backdrop = document.querySelector('.modal-backdrop');
                    if (backdrop) {
                        backdrop.remove();
                    }
                }, 100); // 可以根据需要调整延迟时间
            });
        });
    
        // 初始设置背景透明度
        setTimeout(() => {
            resetBackdropOpacity();
            updateBackdrop();
        }, 1000);
    
        // 初始化背景图像
        checkModalState();

        document.addEventListener('DOMContentLoaded', () => {
            const fromPage = sessionStorage.getItem('fromPage');
            if (fromPage === 'p3') {
                const alertContainer = document.getElementById('alert-container');
                const alertDiv = document.createElement('div');
                alertDiv.className = 'alert alert-warning alert-dismissible fade show';
                alertDiv.role = 'alert';
                alertDiv.innerHTML = `
                    <strong>我重生了......!!
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                `;
                alertContainer.appendChild(alertDiv);
                sessionStorage.removeItem('fromPage'); // 清除跳转信息
            }
        });
        document.addEventListener('DOMContentLoaded', () => {
    const audio = document.getElementById('backgroundMusic');

    // 播放音乐
    function playMusic() {
        audio.play();
    }

    // 停止音乐
    function stopMusic() {
        audio.pause();
        audio.currentTime = 0; // 重置播放位置到开始
    }

    // 检查音乐是否正在播放
    function isMusicPlaying() {
        return !audio.paused;
    }

    // 自动播放音乐
    playMusic();

    // 可以在需要时调用上述函数来控制音乐的播放和暂停
});
document.addEventListener('click', () => {
    const audio = document.getElementById('backgroundMusic');
    audio.play();

    // 移除提示信息
    const startMusicMessage = document.getElementById('startMusicMessage');
    if (startMusicMessage) {
        startMusicMessage.remove();
    }
});
    document.addEventListener('DOMContentLoaded', () => {
        const bottomNavbarLink = document.getElementById('bottom-navbar-link');
        bottomNavbarLink.addEventListener('click', (event) => {
            event.preventDefault(); // 阻止默认的链接跳转
            const newHref = `${bottomNavbarLink.href}?fromPage=p3`;
            window.location.href = newHref;
        });
    });

    </script>
    
        

        

    </body>
    
    </html>
</body>

</html>